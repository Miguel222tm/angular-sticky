function escapeHtml(t){return String(t).replace(/[&<>"'\/]/g,function(t){return entityMap[t]})}function trimIndent(t){for(var e=t.split("\n"),n=0,o=e.length-1;null==nonSpace.exec(e[n])&&n<e.length;)n+=1;for(;null==nonSpace.exec(e[o])&&o>=n;)o-=1;for(var r=nonSpace.exec(e[n]).index,i="",a=n;a<=o;a++)i=i+e[a].slice(r-1)+(a<o?"\n":"");return i.replaceAll("\t","&nbsp;&nbsp;")}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},nonSpace=/\S/;String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)};var demo=angular.module("demo",["ui.router","ui.bootstrap","demo.utils.strings","demo.utils.dom","demo.directive.scroll-along","hl.sticky"]).config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("root",{abstract:!0,url:"",views:{"@":{templateUrl:"views/layout.html",controller:"RootController"},"header@root":{templateUrl:"views/header.html"},"footer@root":{templateUrl:"views/footer.html"}}}).state("root.home",{url:"/",views:{"content@root":{templateUrl:"views/getting-started.html",controller:"HomeController"}}}).state("root.api",{abstract:!0,url:"/api",views:{"content@root":{templateUrl:"views/api/page.html"}}}).state("root.api.directive",{url:"/directive/:name",templateUrl:function(t){return"views/api/directives/"+t.name+".html"}}).state("root.api.service",{url:"/service/:name",templateUrl:function(t){return"views/api/services/"+t.name+".html"}}).state("root.demo-container",{abstract:!0,views:{"content@root":{templateUrl:"views/demo.html",controller:"DemoCtrl"}}}).state("root.demo-container.demo",{url:"/demo/:name",templateUrl:function(t){return"views/demos/"+t.name+".html"},controller:["$rootScope","$stateParams",function(t,e){t.demoName=e.name}]}).state("root.about",{url:"/about",views:{"content@root":{templateUrl:"views/about.html",controller:"AboutController"}}})}]).config(["$controllerProvider",function(t){t.allowGlobals()}]).controller("RootController",["$rootScope","$document",function(t,e){t.$on("$stateChangeSuccess",function(){e[0].body.scrollTop=e[0].documentElement.scrollTop=0})}]).controller("HomeController",["$scope",function(t){}]).controller("DemoCtrl",["$rootScope","$scope","$sce","$timeout","$stateParams","$savedContent",function(t,e,n,o,r,i){var a=["intro","html","js","css"];e.content={},e.hasContent=function(t){return e.content[t]},t.$watch("demoName",function(t){e.demoName=t}),e.$on("$stateChangeStart",function(){angular.forEach(a,function(t){i[t]=null})}),e.$on("$stateChangeSuccess",function(){o(function(){angular.forEach(i,function(t,o){e.content[o]=n.trustAsHtml(t)})})})}]).controller("AboutController",["$scope",function(t){}]).filter("firstToUpperCase",["s",function(t){return function(e){return t.firstToUpperCase(e)}}]).factory("$savedContent",function(){return{}}).directive("saveContent",["$savedContent",function(t){return{restrict:"A",compile:function(e,n){t[n.saveContent]=e.html()}}}]).directive("applyContent",["$savedContent",function(t){return{restrict:"EAC",compile:function(e,n){var o=e.html();return function(e,n,r){function i(){var e=t[r.applyContent];e||(e=o);var i=r.highlightLang;"html"==i&&(e=escapeHtml(e)),e=trimIndent(e);var a=prettyPrintOne(e,i);n.html(a)}angular.isDefined(r.contentWatch)?e.$watch(i):i()}}}}]).directive("scrollTo",["$log","offset",function(t,e){return{restrict:"A",priority:100,link:function(n,o,r){angular.isDefined(r.scrollTo)||""===r.scrollTo||t.error('Directive "scroll-to" must have a value. E.g.: scroll-to="element-id"');var i=null;$(o).mousedown(function(){n.$apply(function(){i||null===(i=document.getElementById(r.scrollTo))&&t.warn('Element with id "'+r.scrollTo+'" does not exist'),e.scrollToElement(i)})}),n.$on("$destroy",function(){i=null})}}}]);angular.module("demo.utils.strings",[]).factory("s",function(){var t={};return t.textFromHtml=function(t){return t?String(t).replace(/<[^>]+>/gm,""):""},t.firstToUpperCase=function(t){var e=t.trim();return e.substr(0,1).toUpperCase()+e.substr(1)},t.firstToLowerCase=function(t){var e=t.trim();return e.substr(0,1).toLowerCase()+e.substr(1)},t.camelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},t}),angular.module("demo.utils.dom",["hl.sticky","smoothScroll"]).service("offset",["$document","hlStickyStack","smoothScroll",function(t,e,n){var o=angular.element(t)[0];this.getElement=function(t){return angular.isString(t)?o.getElementById(t):t},this.top=function(t){var e=0;if(!(t=this.getElement(t))||!t.offsetParent)return null;do{e+=t.offsetTop,t=t.offsetParent}while(t);return e},this.totalStickyStackHeightAtElement=function(t){return e().heightAt("top",this.top(t))},this.scrollToElement=function(t){t=this.getElement(t);var e={offset:this.totalStickyStackHeightAtElement(t)};return n(t,e),e}}]),angular.module("demo.directive.scroll-along",[]).directive("hlScrollAlong",["$window",function(t){return{restrict:"EA",transclude:!0,replace:!0,template:'<div class="scroll-along-container"><div class="content" ng-transclude></div></div>',link:function(e,n,o){function r(t){angular.isDefined(t.clientY)&&(c=t.clientY);var n=c-i(l);a.css("top",Math.max(0,n+window.pageYOffset)),e.$apply()}function i(t){var e=0;if(t&&t.offsetParent)do{e+=t.offsetTop,t=t.offsetParent}while(t);return e}var a=angular.element(n[0]),l=angular.element(a.parent())[0];angular.element(t).bind("scroll",r),angular.element(t).bind("mousemove",r);var c}}}]),angular.module("hl.sticky",[]).factory("mediaQuery",function(){return{matches:function(t){return t&&(matchMedia("("+t+")").matches||matchMedia(t).matches)}}}).factory("hlStickyStack",["$document","DefaultStickyStackName",function(t,e){function n(t){var n=(t=t||{}).name||e;if(r[n])return r[n];var i=1039,a=[],l={};return l.options=t,l.stackName=n,l.add=function(t,e){return angular.isString(t)&&""!==t||(t=l.length()),e.id=t,e.zIndex=i,a.push(e),i-=1,e},l.get=function(t){for(var e=0;e<a.length;e++)if(t==a[e].id)return a[e];return!1},l.index=function(t){for(var e=0;e<a.length;e++)if(t==a[e].id)return e;return-1},l.range=function(t,e){return a.slice(t,e)},l.all=function(){return a},l.keys=function(){for(var t=[],e=0;e<a.length;e++)t.push(a[e].id);return t},l.top=function(){return a[a.length-1]},l.remove=function(t){for(var e=0;e<a.length;e++)if(t==a[e].id)return i+=1,a.splice(e,1)[0];return!1},l.removeTop=function(){return i+=1,a.splice(a.length-1,1)[0]},l.length=function(){return a.length},l.height=function(t){var e={top:0,bottom:0};return angular.forEach(a,function(n){e[n.anchor()]+=n.computedHeight(t)}),e[t]},l.heightAt=function(t,e){for(var n,o,r=e-1,i={top:0,bottom:0},l=0;l<a.length;l++)if((n=a[l]).sticksAtPosition(t,r)){var c=n.anchor();o=n.computedHeight(t,r-i[c]),i[c]+=o}return i[t]},l.heightCurrent=function(t){return l.heightAt(t,window.pageYOffset||o.scrollTop)},r[n]=l,l}var o=t[0].documentElement,r={};return n}]).factory("hlStickyElement",["$document","$log","hlStickyStack","throttle","mediaQuery",function(t,e,n,o,r){return function(o,i){function a(){return A?T:T=w(U)-N-$()}function l(){return A?D:D=k(U)+R+b()}function c(){return!angular.isDefined(i.enable)||i.enable}function u(){return c()&&A||i.alwaysSticky}function s(t,n){if(!d())return!1;switch(t){case"top":return f(n);case"bottom":return m(n);default:e.error('Unknown anchor "'+t+'"')}return!1}function f(t){return(t=void 0!==t?t:window.pageYOffset||H.scrollTop)-(I.clientTop||0)>=a()}function m(t){return(t=void 0!==t?t:window.pageYOffset||H.scrollTop)+window.innerHeight<=l()}function d(){return!1===z||r.matches(z)}function h(){var t=s(O);angular.isDefined(i.enable)&&!i.enable&&(t=!1),angular.isDefined(i.alwaysSticky)&&i.alwaysSticky&&(t=!0),t&&!A?(p(),j({event:"stick"})):!t&&A&&(g(),j({event:"unstick"})),A&&("top"===O?o.css("top",N+S(O)-x()+"px"):"bottom"===O&&o.css("bottom",R+S(O)-E()+"px"),o.css("width",v()+"px"))}function p(){A=!0,o.addClass(B),L&&((P=P||angular.element("<div>")).css("height",y()+"px"),o.after(P));var t=U.getBoundingClientRect(),e={width:v()+"px",position:"fixed",left:t.left+"px","z-index":Y?Y.get(M).zIndex-(q.zIndex||0):null};e["margin-"+O]=0,o.css(e)}function g(){A=!1,o.removeClass(B),o.attr("style",F.style),P&&P.remove()}function v(){return U.offsetWidth}function y(){return U.offsetHeight}function w(t){var e=0;if(t&&t.offsetParent)do{e+=t.offsetTop,t=t.offsetParent}while(t);return e}function k(t){return w(t)+t.clientHeight}function S(t){var e=0;if("top"===t&&q.top>0&&(e+=q.top),"bottom"===t&&q.bottom>0&&(e+=q.bottom),Y){var n=Y.index(M);"top"===t&&n>0&&Y.range(0,n).forEach(function(n){n.isSticky()&&(e+=n.computedHeight(t))}),"bottom"===t&&n!==Y.length()-1&&Y.range(n+1,Y.length()).forEach(function(n){n.isSticky()&&(e+=n.computedHeight(t))})}return e}function $(){return S("top")}function b(){return S("bottom")}function C(t,e){return"top"===t?Math.max(0,y()-x(e)+N):"bottom"===t?Math.max(0,y()-E(e)+R):0}function E(t){if(null===Q&&(Q=void 0!==i.container&&(angular.isString(i.container)?angular.element(I.querySelector("#"+i.container))[0]:i.container)),Q){var e=!(null===t||void 0===t),n=Q.getBoundingClientRect(),o=e?w(Q)+n.height-t:n.top-window.innerHeight+y();return Math.max(0,o-(N+S(O)))}return 0}function x(t){if(null===Q&&(Q=void 0!==i.container&&(angular.isString(i.container)?angular.element(I.querySelector("#"+i.container))[0]:i.container)),Q){var e=!(null===t||void 0===t),n=Q.getBoundingClientRect(),o=e?w(Q)+n.height-t:n.bottom;return Math.max(0,N+S(O)+y()-o)}return 0}i=i||{};var T,D,P,A=!1,H=angular.element(t[0].body),U=o[0],I=t[0].documentElement,M=i.id||null,z=!!angular.isDefined(i.mediaQuery)&&i.mediaQuery,B=angular.isString(i.stickyClass)&&""!==i.stickyClass?i.stickyClass:"is-sticky",L=!angular.isDefined(i.usePlaceholder)||i.usePlaceholder,N=i.offsetTop?parseInt(i.offsetTop):0,R=i.offsetBottom?parseInt(i.offsetBottom):0,O="string"==typeof i.anchor?i.anchor.toLowerCase().trim():"top",Q=null,Y=!1===i.stack?null:i.stack||n(),j=angular.isFunction(i.event)?i.event:angular.noop,q={top:0,bottom:0},F={style:o.attr("style")||""},W={};if(Y){var G=Y.add(M,W);M=G.id}return W.draw=function(t){var e=(t=t||{}).offset;e&&(q.top=e.top||0,q.bottom=e.bottom||0,q.zIndex=e.zIndex),!0===t.force&&g(),h()},W.anchor=function(){return O},W.isSticky=u,W.isEnabled=c,W.computedHeight=C,W.sticksAtPosition=s,W.destroy=function(){g(),Y&&Y.remove(M)},W}}]).constant("DefaultStickyStackName","default-stack").provider("hlStickyElementCollection",function(){var t=0,e={collections:{},defaults:{checkDelay:250},elementsDefaults:{},$get:["$rootScope","$window","$document","$log","DefaultStickyStackName","hlStickyElement","hlStickyStack","throttle",function(n,o,r,i,a,l,c,u){function s(){++t>1||(y=u(d,e.defaults.checkDelay,{leading:!1}),w.on("resize",y),w.on("scroll",m),g=n.$on("$viewContentLoaded",y),v=n.$on("$includeContentLoaded",y),y())}function f(){--t>0||(w.off("resize",y),w.off("scroll",m),g(),v())}function m(){h()}function d(){h({force:!0})}function h(t){angular.forEach(e.collections,function(e){e.draw(t)})}function p(t){t&&angular.isObject(t)||(i.warn("Must supply an options object"),t={});var n=(t=angular.extend({},e.elementsDefaults,t)).name||a;if(e.collections[n])return e.collections[n];var o=c({name:n}),r=[],u={};return u.addElement=function(t,e){(e=e||{}).stack=o;var n=l(t,e);return r.push({stickyElement:n,element:t}),n},u.removeElement=function(t){for(var e,n=r.length;n--;)if(angular.isString(t)&&"#"+r[n].element.id===t||r[n].element===t){e=n;break}var o=r.splice(e,1)[0];return o&&o.stickyElement.destroy(),o},u.draw=function(e){var n={};if(t.parent){var o=c({name:t.parent});n.offset={top:o.heightCurrent("top"),zIndex:o.length()}}angular.extend(n,e||{}),angular.forEach(r,function(t){t.stickyElement.draw(n)})},u.destroy=function(){angular.forEach(angular.copy(r),function(t){u.removeElement(t)}),delete e.collections[n],f()},u.trackedElements=function(){return r},e.collections[n]=u,s(),u}var g,v,y,w=angular.element(o);return p}]};return e}).directive("hlSticky",["$log","$window","$document","hlStickyElementCollection",function(t,e,n,o){return{restrict:"A",transclude:!0,replace:!0,scope:{container:"@",anchor:"@",stickyClass:"@",mediaQuery:"@",collection:"@",collectionParent:"@",event:"&",enable:"=",alwaysSticky:"="},template:'<div class="hl-sticky" ng-transclude></div>',link:function(t,e,n){var r=o({name:t.collection,parent:t.collectionParent}),i={id:n.hlSticky,event:function(e){t.event({event:e})}};angular.forEach(["anchor","container","stickyClass","mediaQuery","enable","alwaysSticky"],function(e){angular.isDefined(t[e])&&(i[e]=t[e])}),angular.forEach(["usePlaceholder","offsetTop","offsetBottom"],function(e){angular.isDefined(n[e])&&(i[e]=t.$parent.$eval(n[e]))}),r.addElement(e,i),t.$watch("enable",function(e,n){e!==n&&(i.enable=t.enable,r.draw({force:!0}))}),t.$watch("alwaysSticky",function(e,n){e!==n&&(i.alwaysSticky=t.alwaysSticky,r.draw({force:!0}))}),t.$on("$destroy",function(){r.removeElement(e),r.trackedElements().length||r.destroy()})}}}]).factory("throttle",["$timeout",function(t){return function(e,n,o){var r=null;return o=o||{},function(){var i=this,a=arguments;r||(!1!==o.leading&&e.apply(i,a),r=t(function(){r=null,!1!==o.trailing&&e.apply(i,a)},n,!1))}}}]);